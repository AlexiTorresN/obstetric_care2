{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard Médico{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row mb-4">
        <div class="col-12">
            <h2><i class="bi bi-clipboard2-pulse me-2 text-success"></i>Dashboard Médico</h2>
            <p class="text-muted">Bienvenido, Dr(a). {{ user.get_full_name|default:user.username }}</p>
        </div>
    </div>

    <!-- Estadísticas -->
    <div class="row g-4 mb-4">
        <div class="col-md-4">
            <div class="card text-center">
                <div class="card-body">
                    <i class="bi bi-journal-medical display-4 text-success"></i>
                    <h3 class="mt-3">{{ total_patologias }}</h3>
                    <p class="text-muted">Patologías Registradas</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card text-center">
                <div class="card-body">
                    <i class="bi bi-exclamation-triangle display-4 text-danger"></i>
                    <h3 class="mt-3">{{ patologias_alto_riesgo }}</h3>
                    <p class="text-muted">Patologías Alto Riesgo</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card text-center">
                <div class="card-body">
                    <i class="bi bi-heart-pulse display-4 text-info"></i>
                    <h3 class="mt-3">{{ user.medico.pacientes.count|default:0 }}</h3>
                    <p class="text-muted">Pacientes Asignados</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Accesos Rápidos -->
    <div class="row g-4">
        <div class="col-md-4">
            <a href="{% url 'medico:listar_patologias' %}" class="card text-decoration-none">
                <div class="card-body text-center">
                    <i class="bi bi-list-check display-4 text-success"></i>
                    <h5 class="mt-3">Catálogo de Patologías</h5>
                    <p class="text-muted small">Gestionar patologías obstétricas</p>
                </div>
            </a>
        </div>
        
        <div class="col-md-4">
            <a href="{% url 'medico:registrar_patologia' %}" class="card text-decoration-none">
                <div class="card-body text-center">
                    <i class="bi bi-plus-circle display-4 text-primary"></i>
                    <h5 class="mt-3">Registrar Patología</h5>
                    <p class="text-muted small">Agregar nueva patología</p>
                </div>
            </a>
        </div>
        
        <div class="col-md-4">
            <a href="{% url 'medico:buscar_paciente' %}" class="card text-decoration-none">
                <div class="card-body text-center">
                    <i class="bi bi-search display-4 text-info"></i>
                    <h5 class="mt-3">Buscar Paciente</h5>
                    <p class="text-muted small">Ver historial clínico</p>
                </div>
            </a>
        </div>
    </div>
</div>
{% endblock %}